{%- assign selected_variant = product.selected_or_first_available_variant -%}
<form class="Form Form--spacingTight" name="contact" id="price-custom-form" method="post" action="#" enctype="multipart/form-data">
  <input type="hidden" name="formname" value="ProductPage">
  <input type="hidden" name="domain" value="momentum-15.myshopify.com">
  <input type="hidden" name="productid" value="{{product.id}}_{{ selected_variant.id }}" />
  <header class="Form__Header">
<!--           <h1 class="Form__Title Heading u-h1" style="letter-spacing: .2em;"> REQUEST A WATCH</h1> -->
<!--           <p class="Form__Legend">{{ 'customer.register.description' | t }}</p> -->
        </header>
      <div class="alert- info-" style="display: none; margin-top: 20px !important;">
            <strong>Error!</strong> Please fix the error(s) below.
            <span class="info-message-"></span>
        </div>

        {%- if form.errors -%}
          <div class="Form__Alert Alert Alert--error">
            <ul class="Alert__ErrorList">
              {%- for field in form.errors -%}
                {%- if field == 'form' -%}
                  <li class="Alert__ErrorItem">{{ form.errors.messages[field] }}</li>
                {%- else -%}
                  <li class="Alert__ErrorItem"><strong>{{ form.errors.translated_fields[field] }}</strong> {{ form.errors.messages[field] }}</li>
                {%- endif -%}
              {%- endfor -%}
            </ul>
          </div>
        {%- endif -%}
        <input id="popup-inquiry-productname" placeholder="Product name" type="text" />
       <div class="Form__Item custom">
          <input id="inquireemail" type="email" class="Form__Input bg_color" name="email" aria-label="{{ 'customer.register.email' | t }}" placeholder="{{ 'customer.register.email' | t }} *" required="required">
      <label class="Form__FloatingLabel label2">{{ 'customer.register.email' | t }} *</label>  
      </div>
  <div class="Form__Item phone_fields">
            <input id="phone" type="tel" class="required Form__Input bg_color" name="phone" aria-label="Phone No." placeholder="Phone No. *" required>
           <label class="Form__FloatingLabel phnlbl label2 ts-label-block">Phone No. *</label>
        </div>
       
          <div class="Form__Item">
            <input id="inquirefirstname" type="text" class="Form__Input bg_color" name="first_name" aria-label="First Name" placeholder="First Name *" required>
          <label class="Form__FloatingLabel label2">First Name *</label> 
          </div>

          <div class="Form__Item">
            <input id="inquirelastname" type="text" class="required Form__Input bg_color" name="last_name" aria-label="Last Name" placeholder="Last Name *" required>
            <label class="Form__FloatingLabel label2">Last Name *</label>
          </div>

       
      <div class="Form__Item">
        <select type="select" class="Form__Input bg_color" name="country" aria-label="Country of Residence" placeholder="Country of Residence">
          <option value="Saudi Arabia">Select an option</option>
          <option value="Albania">Albania</option>
          <option value="Algeria">Algeria</option>
          <option value="Andorra">Andorra</option>
          <option value="Angola">Angola</option>
          <option value="Antigua and Barbuda">Antigua and Barbuda</option>
          <option value="Argentina">Argentina</option>
          <option value="Armenia">Armenia</option>
          <option value="Australia">Australia</option>
          <option value="Austria">Austria</option>
          <option value="Azerbaijan">Azerbaijan</option>
          <option value="Bahamas">Bahamas</option>
          <option value="Bahrain">Bahrain</option>
          <option value="Bangladesh">Bangladesh</option>
          <option value="Barbados">Barbados</option>
          <option value="Belarus">Belarus</option>
          <option value="Belgium">Belgium</option>
          <option value="Belize">Belize</option>
          <option value="Benin">Benin</option>
          <option value="Bhutan">Bhutan</option>
          <option value="Bolivia">Bolivia</option>
          <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
          <option value="Botswana">Botswana</option>
          <option value="Brazil">Brazil</option>
          <option value="Brunei">Brunei</option>
          <option value="Bulgaria">Bulgaria</option>
          <option value="Burkina Faso">Burkina Faso</option>
          <option value="Burundi">Burundi</option>
          <option value="Côte d'Ivoire">Côte d'Ivoire</option>
          <option value="Cabo Verde">Cabo Verde</option>
          <option value="Cambodia">Cambodia</option>
          <option value="Cameroon">Cameroon</option>
          <option value="Canada">Canada</option>
          <option value="Central African Republic">Central African Republic</option>
          <option value="Chad">Chad</option>
          <option value="Chile">Chile</option>
          <option value="China">China</option>
          <option value="Colombia">Colombia</option>
          <option value="Comoros">Comoros</option>
          <option value="Congo (Congo-Brazzaville)">Congo (Congo-Brazzaville)</option>
          <option value="Costa Rica">Costa Rica</option>
          <option value="Croatia">Croatia</option>
          <option value="Cyprus">Cyprus</option>
          <option value="Czechia (Czech Republic)">Czechia (Czech Republic)</option>
          <option value="Democratic Republic of the Congo">Democratic Republic of the Congo</option>
          <option value="Denmark">Denmark</option>
          <option value="Djibouti">Djibouti</option>
          <option value="Dominica">Dominica</option>
          <option value="Dominican Republic">Dominican Republic</option>
          <option value="Ecuador">Ecuador</option>
          <option value="Egypt">Egypt</option>
          <option value="El Salvador">El Salvador</option>
          <option value="Equatorial Guinea">Equatorial Guinea</option>
          <option value="Eritrea">Eritrea</option>
          <option value="Estonia">Estonia</option>
          <option value="Eswatini (fmr. &quot;Swaziland&quot;)">Eswatini (fmr. "Swaziland")</option>
          <option value="Ethiopia">Ethiopia</option>
          <option value="Fiji">Fiji</option>
          <option value="Finland">Finland</option>
          <option value="France">France</option>
          <option value="Gabon">Gabon</option>
          <option value="Gambia">Gambia</option>
          <option value="Georgia">Georgia</option>
          <option value="Germany">Germany</option>
          <option value="Ghana">Ghana</option>
          <option value="Greece">Greece</option>
          <option value="Grenada">Grenada</option>
          <option value="Guatemala">Guatemala</option>
          <option value="Guinea">Guinea</option>
          <option value="Guinea-Bissau">Guinea-Bissau</option>
          <option value="Guyana">Guyana</option>
          <option value="Haiti">Haiti</option>
          <option value="Holy See">Holy See</option>
          <option value="Honduras">Honduras</option>
          <option value="Hungary">Hungary</option>
          <option value="Iceland">Iceland</option>
          <option value="India">India</option>
          <option value="Indonesia">Indonesia</option>
          <option value="Iraq">Iraq</option>
          <option value="Ireland">Ireland</option>
          <option value="Israel">Israel</option>
          <option value="Italy">Italy</option>
          <option value="Jamaica">Jamaica</option>
          <option value="Japan">Japan</option>
          <option value="Jordan">Jordan</option>
          <option value="Kazakhstan">Kazakhstan</option>
          <option value="Kenya">Kenya</option>
          <option value="Kiribati">Kiribati</option>
          <option value="Kuwait">Kuwait</option>
          <option value="Kyrgyzstan">Kyrgyzstan</option>
          <option value="Laos">Laos</option>
          <option value="Latvia">Latvia</option>
          <option value="Lebanon">Lebanon</option>
          <option value="Lesotho">Lesotho</option>
          <option value="Liberia">Liberia</option>
          <option value="Libya">Libya</option>
          <option value="Liechtenstein">Liechtenstein</option>
          <option value="Lithuania">Lithuania</option>
          <option value="Luxembourg">Luxembourg</option>
          <option value="Madagascar">Madagascar</option>
          <option value="Malawi">Malawi</option>
          <option value="Malaysia">Malaysia</option>
          <option value="Maldives">Maldives</option>
          <option value="Mali">Mali</option>
          <option value="Malta">Malta</option>
          <option value="Marshall Islands">Marshall Islands</option>
          <option value="Mauritania">Mauritania</option>
          <option value="Mauritius">Mauritius</option>
          <option value="Mexico">Mexico</option>
          <option value="Micronesia">Micronesia</option>
          <option value="Moldova">Moldova</option>
          <option value="Monaco">Monaco</option>
          <option value="Mongolia">Mongolia</option>
          <option value="Montenegro">Montenegro</option>
          <option value="Morocco">Morocco</option>
          <option value="Mozambique">Mozambique</option>
          <option value="Myanmar (formerly Burma)">Myanmar (formerly Burma)</option>
          <option value="Namibia">Namibia</option>
          <option value="Nauru">Nauru</option>
          <option value="Nepal">Nepal</option>
          <option value="Netherlands">Netherlands</option>
          <option value="New Zealand">New Zealand</option>
          <option value="Nicaragua">Nicaragua</option>
          <option value="Niger">Niger</option>
          <option value="Nigeria">Nigeria</option>
          <option value="North Macedonia">North Macedonia</option>
          <option value="Norway">Norway</option>
          <option value="Oman">Oman</option>
          <option value="Pakistan">Pakistan</option>
          <option value="Palau">Palau</option>
          <option value="Palestine State">Palestine State</option>
          <option value="Panama">Panama</option>
          <option value="Papua New Guinea">Papua New Guinea</option>
          <option value="Paraguay">Paraguay</option>
          <option value="Peru">Peru</option>
          <option value="Philippines">Philippines</option>
          <option value="Poland">Poland</option>
          <option value="Portugal">Portugal</option>
          <option value="Qatar">Qatar</option>
          <option value="Romania">Romania</option>
          <option value="Rwanda">Rwanda</option>
          <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
          <option value="Saint Lucia">Saint Lucia</option>
          <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
          <option value="Samoa">Samoa</option>
          <option value="San Marino">San Marino</option>
          <option value="Sao Tome and Principe">Sao Tome and Principe</option>
          <option value="Saudi Arabia">Saudi Arabia</option>
          <option value="Senegal">Senegal</option>
          <option value="Serbia">Serbia</option>
          <option value="Seychelles">Seychelles</option>
          <option value="Sierra Leone">Sierra Leone</option>
          <option value="Singapore">Singapore</option>
          <option value="Slovakia">Slovakia</option>
          <option value="Slovenia">Slovenia</option>
          <option value="Solomon Islands">Solomon Islands</option>
          <option value="Somalia">Somalia</option>
          <option value="South Africa">South Africa</option>
          <option value="South Korea">South Korea</option>
          <option value="South Sudan">South Sudan</option>
          <option value="Spain">Spain</option>
          <option value="Sri Lanka">Sri Lanka</option>
          <option value="Suriname">Suriname</option>
          <option value="Sweden">Sweden</option>
          <option value="Switzerland">Switzerland</option>
          <option value="Tajikistan">Tajikistan</option>
          <option value="Tanzania">Tanzania</option>
          <option value="Thailand">Thailand</option>
          <option value="Timor-Leste">Timor-Leste</option>
          <option value="Togo">Togo</option>
          <option value="Tonga">Tonga</option>
          <option value="Trinidad and Tobago">Trinidad and Tobago</option>
          <option value="Tunisia">Tunisia</option>
          <option value="Turkey">Turkey</option>
          <option value="Turkmenistan">Turkmenistan</option>
          <option value="Tuvalu">Tuvalu</option>
          <option value="Uganda">Uganda</option>
          <option value="Ukraine">Ukraine</option>
          <option value="United Arab Emirates">United Arab Emirates</option>
          <option value="United Kingdom">United Kingdom</option>
          <option value="United States of America">United States of America</option>
          <option value="Uruguay">Uruguay</option>
          <option value="Uzbekistan">Uzbekistan</option>
          <option value="Vanuatu">Vanuatu</option>
          <option value="Venezuela">Venezuela</option>
          <option value="Vietnam">Vietnam</option>
          <option value="Yemen">Yemen</option>
          <option value="Zambia">Zambia</option>
          <option value="Zimbabwe">Zimbabwe</option>
        </select>
        <label class="Form__FloatingLabel label2 ts-label-block">Country of Residence</label>
        </div>
       <div class="Form__Item">
        <select type="select" class="Form__Input bg_color" name="leadsource" aria-label="How did you hear about us" placeholder="How did you hear about us">
          <option value="null">Select an option</option>
           <option value="instagram">Instagram</option>
           <option value="google">Google</option>
           <option value="affiliate">Affiliate Site</option>
           <option value="events">Events</option>
           <option value="friends">Friends</option>   
           <option value="other">Other</option>
        </select>
        <label class="Form__FloatingLabel label2 ts-label-block">How did you hear about us</label>
        </div>
      <div class="Form__Item" style="width: 100% !important;">
        <input type="hidden" name="product_description" id="cstminput" value="null" aria-label="Comments">
        <textarea class="required Form__Input bg_color" id="inquirecsttxet" name="product_description_new" aria-label="Comments" placeholder="Comments" style="height:100px;"></textarea>
          <label class="Form__FloatingLabel label2">Comments</label>
        </div>
        <p class="c-checkbox" style="padding-top:10px;">
         <input type="checkbox" style="accent-color: black;" name="receiveemailcall" checked="checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I would like to receive more information about Momentum's products, services, events, news and offers.
      </p> 
         
        <button id="contact_form_save" onclick="next_step1()" type="submit" class="Form__Submit Button Button--primary Button--full newbtngs">Enquire</button>
         
      <div class="alert info" style="display: none; margin-top: 20px !important;">
            <strong>Error!</strong> Please fix the error(s) below.
            <span class="info-message"></span>
        </div>
  <div class="alert success"  style="margin-top: 20px !important; display: none; font-family: Montserrat,sans-serif; font-size: 12px; font-weight: 500; font-style: normal; text-transform: uppercase;">
            Submitted successfully <img src="https://cdn.shopify.com/s/files/1/0513/9201/files/Vector.svg">
        </div>
      </form>

<script type="application/json" data-product-json>
  {
    "product": {{ product | json }},
    "selected_variant_id": {{ selected_variant.id }}
    {%- if section.settings.show_inventory_quantity -%}
      ,"inventories": {
        {%- for variant in product.variants -%}
          {%- assign inventory_message = '' -%}

          {%- if section.settings.inventory_quantity_threshold == 0 -%}
            {%- capture inventory_message -%}{{- 'product.form.inventory_quantity_count' | t: count: variant.inventory_quantity -}}{%- endcapture -%}
          {%- else -%}
            {%- capture inventory_message -%}{{- 'product.form.low_inventory_quantity_count' | t: count: variant.inventory_quantity -}}{%- endcapture -%}
          {%- endif -%}

          "{{ variant.id }}": {
            "inventory_management": {{ variant.inventory_management | json }},
            "inventory_policy": {{ variant.inventory_policy | json }},
            "inventory_quantity": {{ variant.inventory_quantity | json }},
            "inventory_message": {{ inventory_message | json }}
          }{% unless forloop.last %},{% endunless %}
        {%- endfor -%}
      }
    {%- endif -%}
  }
</script>
<!--<script type="text/javascript" src="https://code.jquery.com/jquery-2.2.4.js"></script>-->
  
  <script>
    var dvlp_app_url = 'https://momentum-dubai.com/apps/unified-momentum';
    
  $('#price-custom-form').submit(function (event) {
    $('.newbtngs').html("Submitting <img class='cstmloader' src='https://cdn.shopify.com/s/files/1/0513/9201/files/spinner.gif?v=1698836364'>");
            event.preventDefault();
            $('.success').hide();
            $('.info').hide();
            $.post(dvlp_app_url + "/lead",
//                 {
//                     domain: "surf9.myshopify.com",
//                     first_name: $('#contactFormFirstName').val(),
//                     last_name: $('#contactFormLastName').val(),
//                     email: $('#contactFormEmail').val(),
//                     product: $('#contactFormProduct').val(),
//                     product_size: $('#contactFormProductSize').val(),
//                     product_color: $('#contactFormProductColor').val(),
//                     black_box: $('#ioBlackBox').val(),
//                     // phone: $('#contactFormPhone').val(),
//                     address1: $('#contactFormAddress1').val(),
//                     city: $('#contactFormCity').val(),
//                     province: $('#contactFormProvince').val(),
//                     country: $('#contactFormCountry').val(),
//                     zip: $('#contactFormZip').val(),
//                     // serial_number: $('#contactFormSerialNumber').val(),
//                     is_subscribed: $('#isSubscribed:checked').val(),
//                     acceptance: $('#acceptance').val(),
//                     ip_address: $('.ip_address').val()
//                 },
                   $('#price-custom-form').serialize(),
                function (data, status) {
              console.log(data.message);
                    if (data.status == '1') {
                      $('#contact_form_save').hide();
                        $('.success').show();
                    }                       
                    else {
                        let errors = '<ul>';
                        $.each(data.message, function (key, value) {
                            errors += '<li>' + value + '</li>';
                        });
                        errors += '</ul>';
                      console.log(errors);
                      
                        $('.info-message').html(errors);
                        $('.info').show();
                        $('#contact_form_save').show();
                    }
                  $('.newbtngs').html("Submit");
                })
                .fail(function (response) {
                  console.log(response);
                    let errors = '<ul><li>Something went wrong, please try again later.</li></ul>';
                    $('.info-message').html(errors);
                    $('.info').show();
                    $('#contact_form_save').show();

                $('.newbtngs').html("Submit");  
                });
            return false;
        });
  </script>

<!-- <script>
$(document).ready(function() {
    $('.newbtngs').click(function() {
        if (!$('#inquireemail').val()) {
           $(this).html("Submit");
        }else {
     $(this).html("Submitting <i class='fa fa-spinner fa-spin'></i>");
}
    })
});
  </script>

<script>
$(document).ready(function() {
    $('.newbtngs').click(function() {
        if (!$('#inquirefirstname').val()) {
            $(this).html("Submit");
        }
    })
});
  </script>         

<script>
$(document).ready(function() {
    $('.newbtngs').click(function() {
        if (!$('#inquirelastname').val()) {
            $(this).html("Submit");
        }
    })
});
  </script>   

<script>
$(document).ready(function() {
    $('.newbtngs').click(function() {
        if (!$('#inquirecsttxet').val()) {
            $(this).html("Submit");
        }
    })
});
  </script>   -->

<script>
//  $(document).on('change keyup', '.required', function(e){
//    let required = true;
//     $(".required").each(function() {
//       let value = this.value
//       if ((value)&&(value.trim() !=''))
//           {
//             Disabled = false
//           }else{
//             Disabled = true
//             return false
//           }
//     });
   
//    if(Disabled){
//         $(".newbtngs").html("Submit");
//       }else{
//            $('.newbtngs').on('click touchend', function() {
// if ($(".Form__Item.is-filled")[0]){
//      $(this).html("Submitting <i class='fa fa-spinner fa-spin'></i>");
// } else {
//     $(this).html("Submit");
// }
//         });
//       }
//  });
  
</script>
<script>
// $(document).ready(function(){
//    $('.newbtngs').on('click touchend', function() {
// if ($(".Form__Item.is-filled")[0]){
//      $(this).html("Submitting <i class='fa fa-spinner fa-spin'></i>");
// } else {
//     $(this).html("Enquire");
// }
//         });
//   });
</script>
<script>
$(document).ready(function(){
  $("#inquirecsttxet").keypress(function(){
    $("#cstminput").removeAttr("name");
     $("#inquirecsttxet").attr("name","product_description");
  });
   $("#inquirecsttxet").attr("name","product_description_new");
});
</script>


<style>
  div#inquiry-popup .iti.iti--allow-dropdown {
  width: 100%;
  margin-bottom: 15px;
}
 p.c-checkbox {
    position: relative;
}
  button#contact_form_save {
    background-color: #171717;
    color: #fff;
    width: 100%;
    height: 50px;
    font-size: 20px;
    text-align: center;
    border: 1px solid #171717;
    margin: 0 !important;
}
  .inquiry-drawer h1 {
    margin-top: 0;
}
  .cstmloader{
    width: 28px;
    height: 28px;
    margin-left: 5px;
    margin-top: 3px;
      
}
div#inquiry-popup .alert.success {
    align-items: center !important;
    display: flex;
    justify-content: center;
}
div#inquiry-popup .alert.success img {
    margin-left: 10px;
}
</style>










